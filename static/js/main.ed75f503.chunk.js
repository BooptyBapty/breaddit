(this.webpackJsonpbreaddit=this.webpackJsonpbreaddit||[]).push([[0],{257:function(e,t){},259:function(e,t){},263:function(e,t){},264:function(e,t){},289:function(e,t){},291:function(e,t){},301:function(e,t){},303:function(e,t){},312:function(e,t){},314:function(e,t){},330:function(e,t){},364:function(e,t){},365:function(e,t){},434:function(e,t){},436:function(e,t){},441:function(e,t){},443:function(e,t){},450:function(e,t){},462:function(e,t){},465:function(e,t){},470:function(e,t){},552:function(e,t){},558:function(e,t,n){},570:function(e,t,n){},574:function(e,t,n){"use strict";n.r(t);var s=n(6),c=n.n(s),a=n(16),r=n(233),o=n.n(r),l=n(12),i=n(2),u=n.n(i),d=n(127),j=n.n(d),b=(n(558),n(11)),h=n(22),p=n(17),O=n(236),x=n.n(O),f=(n(570),n(0));var m=function(e){return Object(f.jsx)(u.a.Fragment,{children:Object(f.jsxs)("nav",{className:"nav",children:[Object(f.jsx)(h.b,{className:"app-name",to:"/",children:"BREADDIT"}),e.walletAddress?Object(f.jsxs)("div",{className:"profile-options",children:[Object(f.jsx)(h.b,{className:"profile-link",to:"/user/".concat(e.walletAddress),children:Object(f.jsxs)("div",{className:"profile",children:[Object(f.jsx)("img",{className:"pfp",src:"https://robohash.org/".concat(e.walletAddress,".png?bgset=bg1"),alt:"profile"}),Object(f.jsx)("button",{className:"account",href:"#",children:e.walletAddress.slice(0,7)+"..."+e.walletAddress.slice(e.walletAddress.length-6,e.walletAddress.length)})]})}),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"nav-buttons",children:[Object(f.jsx)("button",{className:"create-button",onClick:function(){return e.setCreatePostModal(!0)},children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px",children:Object(f.jsx)("path",{fillRule:"evenodd",d:"M 11 2 L 11 11 L 2 11 L 2 13 L 11 13 L 11 22 L 13 22 L 13 13 L 22 13 L 22 11 L 13 11 L 13 2 Z"})})}),Object(f.jsx)(h.b,{className:"create-button1",to:"/CreateCommunity",children:Object(f.jsx)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"24px",height:"24px",children:Object(f.jsx)("path",{className:"cls-1",d:"M448,191.71H435.2v-89.6a64,64,0,0,0-64-64H64a64,64,0,0,0-64,64V379.16A17.78,17.78,0,0,0,17.92,397a17.42,17.42,0,0,0,12.45-5.25L76.8,345.31H179.2v12.8a64,64,0,0,0,64,64h192l46.42,46.51a17.42,17.42,0,0,0,12.46,5.26A17.78,17.78,0,0,0,512,456.06V255.71A64,64,0,0,0,448,191.71Zm-268.8,64v64H66.2l-7.5,7.5-33.1,33.1V102.11A38.44,38.44,0,0,1,64,63.71H371.2a38.44,38.44,0,0,1,38.4,38.4v89.6H243.2A64,64,0,0,0,179.2,255.71Zm307.2,51v130.5L453.32,404l-7.5-7.52H243.2a38.44,38.44,0,0,1-38.4-38.4V255.71a38.44,38.44,0,0,1,38.4-38.4H448a38.44,38.44,0,0,1,38.4,38.4Zm-89.6-38.16a12.8,12.8,0,0,1-12.8,12.8H307.2a12.8,12.8,0,1,1,0-25.6H384A12.8,12.8,0,0,1,396.8,268.51Zm0,38.4a12.8,12.8,0,0,1-12.8,12.8H307.2a12.8,12.8,0,1,1,0-25.6H384A12.8,12.8,0,0,1,396.8,306.91Zm0,38.4a12.8,12.8,0,0,1-12.8,12.8H307.2a12.8,12.8,0,1,1,0-25.6H384A12.8,12.8,0,0,1,396.8,345.31Z"})})})]}),Object(f.jsx)(h.b,{className:"submitForm noUnderline",to:"/browsecommunities",children:"Browse Communities"})]}):Object(f.jsx)("button",{className:"account account-btn","aria-current":"page",href:"#",onClick:Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.connectWallet();case 1:case"end":return t.stop()}}),t)}))),children:"Connect Wallet"})]})})},g=n(66),v=n.n(g);var A=function(){return Object(f.jsx)("div",{className:"loadingio-spinner-double-ring-58z77zb2x9l",children:Object(f.jsxs)("div",{className:"ldio-plghun5gfo",children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{children:Object(f.jsx)("div",{})}),Object(f.jsx)("div",{children:Object(f.jsx)("div",{})})]})})};var w=function(e){return Object(f.jsx)(u.a.Fragment,{children:e.result.content?Object(f.jsxs)("div",{className:"post",children:[Object(f.jsx)("div",{className:"vote-container"}),Object(f.jsx)("hr",{className:"vote-divider"}),Object(f.jsx)(h.b,{className:"post-link",to:"/post/".concat(e.result.item_hash),children:Object(f.jsxs)("div",{className:"post-content",children:[Object(f.jsxs)("div",{className:"post-metadata",children:[Object(f.jsx)("span",{className:"post-subreddit",children:e.result.ref.length>30?"".concat(e.result.ref.slice(0,5),"...").concat(e.result.ref.slice(e.result.ref.length-6,e.result.ref.length)):e.result.ref}),Object(f.jsx)("span",{className:"post-credit",children:" - Posted by "+e.result.address.slice(0,5)+"..."+e.result.address.slice(e.result.address.length-4,e.result.address.length)+" \u2022 "+v.a.unix(e.result.time).fromNow()})]}),Object(f.jsx)("span",{className:"post-title",children:e.result.content.body.title})]})})]}):Object(f.jsx)(A,{})})};var D=function(e){var t=Object(i.useState)([]),n=Object(b.a)(t,2),s=n[0],r=n[1],o=Object(i.useState)(e.walletAddress),u=Object(b.a)(o,2),d=u[0],j=u[1],h=function(){var t=Object(a.a)(c.a.mark((function t(){var n,s,a,o,i,u,b,h,p;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,d){t.next=24;break}return t.next=4,e.connectWallet();case 4:return n=t.sent,s=n.WalletAddress,n.AlephAccount,t.next=9,l.aggregates.fetch_one(s,"BREADDIT");case 9:if(!((a=t.sent).BREADDITCOMMUNITY.length>=1)){t.next=18;break}return t.next=13,l.posts.get_posts("BREADDITPOST",{refs:a.BREADDITCOMMUNITY});case 13:o=t.sent,j(s),r(o.posts),t.next=22;break;case 18:return t.next=20,l.posts.get_posts("BREADDITPOST");case 20:i=t.sent,r(i.posts);case 22:t.next=39;break;case 24:if(!d){t.next=39;break}return t.next=27,l.aggregates.fetch_one(d,"BREADDIT");case 27:if(!((u=t.sent).BREADDITCOMMUNITY.length>=1)){t.next=35;break}return t.next=31,l.posts.get_posts("BREADDITPOST",{refs:u.BREADDITCOMMUNITY});case 31:b=t.sent,r(b.posts),t.next=39;break;case 35:return t.next=37,l.posts.get_posts("BREADDITPOST");case 37:h=t.sent,r(h.posts);case 39:t.next=47;break;case 41:return t.prev=41,t.t0=t.catch(0),t.next=45,l.posts.get_posts("BREADDITPOST");case 45:p=t.sent,r(p.posts);case 47:case"end":return t.stop()}}),t,null,[[0,41]])})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){h()}),[]),Object(f.jsxs)("div",{className:"posts",children:[function(){if(0===s.length)return Object(f.jsx)(A,{})}(),s.map((function(t){return Object(f.jsx)(w,{walletAddress:d,alephAccount:e.alephAccount,result:t},t.item_hash)}))]})};var N=function(e){var t=Object(i.useState)({title:"",body:""}),n=Object(b.a)(t,2),s=n[0],r=n[1],o=Object(i.useState)(""),d=Object(b.a)(o,2),j=d[0],h=d[1],p=Object(i.useState)(!0),O=Object(b.a)(p,2),x=O[0],m=O[1],g=function(){var t=Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.walletAddress){t.next=7;break}return t.next=3,e.connectWallet();case 3:return t.next=5,g();case 5:t.next=15;break;case 7:if(""!==j&&""!==s.title){t.next=11;break}m(!0),t.next=15;break;case 11:return m(!1),e.setIsLoading(!0),t.next=15,l.posts.submit(e.alephAccount.address,"BREADDITPOST",{body:s},{account:e.alephAccount,channel:"BREADDIT",ref:j,api_server:"https://api2.aleph.im"}).then((function(t){console.log(t),e.setIsLoading(!1),window.location.href="/post/".concat(t.item_hash)})).catch((function(t){e.setIsLoading(!1),console.error(t)}));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"createPost",children:e.isLoading?Object(f.jsxs)("div",{className:"createPost-load",children:[Object(f.jsx)(A,{}),Object(f.jsx)("span",{className:"loading-text",children:"Waiting for wallet signature"})]}):Object(f.jsxs)(u.a.Fragment,{children:[Object(f.jsx)("h3",{children:"Create a post"}),Object(f.jsx)("hr",{}),Object(f.jsxs)("form",{className:"createPostForm",children:[Object(f.jsx)("input",{required:!0,placeholder:"Community Hash",className:"",value:j,onChange:function(e){h(e.target.value),""===e.target.value?m(!0):e.target.value.length>0&&s.title.length>0&&m(!1)}}),Object(f.jsxs)("div",{className:"text-fields",children:[Object(f.jsx)("input",{className:"",type:"text",value:s.title,placeholder:"Title",onChange:function(e){r({title:e.target.value,body:s.body}),0===e.target.value.length?m(!0):e.target.value.length>0&&j.length>0&&m(!1)},required:!0}),Object(f.jsx)("textarea",{className:"",placeholder:"Text (optional)",value:s.body,onChange:function(e){r({title:s.title,body:e.target.value})}}),Object(f.jsx)("button",{disabled:x,className:"",type:"button",onClick:Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g();case 1:case"end":return e.stop()}}),e)}))),value:"Post",children:"Post"})]})]})]})})},I=n(239);var T=function(e){var t=Object(i.useState)(""),n=Object(b.a)(t,2),s=n[0],r=n[1],o=Object(i.useState)(!0),d=Object(b.a)(o,2),j=d[0],h=d[1],p=Object(i.useState)(!1),O=Object(b.a)(p,2),x=O[0],m=O[1],g=function(){var t=Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.walletAddress){t.next=7;break}return t.next=3,e.connectWallet();case 3:return t.next=5,g();case 5:t.next=8;break;case 7:l.posts.submit(e.alephAccount.address,"BREADDITCOMMENT",{body:s},{account:e.alephAccount,channel:"BREADDIT",ref:e.post_hash,api_server:"https://api2.aleph.im"}).then((function(){window.location.href="/post/".concat(e.post_hash)})).catch((function(e){console.log("couldnt post"+e)}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){e.walletAddress&&m(!0)}),[]),Object(f.jsx)(u.a.Fragment,{children:x?Object(f.jsxs)("form",{className:"createCommentForm",children:[Object(f.jsx)("textarea",{type:"text",value:s,placeholder:"Post a comment",onChange:function(e){r(e.target.value),0===e.target.value.length?h(!0):h(!1)}}),Object(f.jsx)("button",{className:"submitForm",type:"button",onClick:function(){g()},disabled:j,children:"POST"})]}):""})};var C=function(e){return Object(f.jsxs)("div",{className:"postPage comment",children:[Object(f.jsxs)("span",{className:"post-credit",children:[" ",e.result.address.slice(0,5)+"..."+e.result.address.slice(e.result.address.length-4,e.result.address.length)+" \u2022 "+v.a.unix(e.result.time).fromNow()," "]}),Object(f.jsx)("span",{className:"comment-body",children:e.result.content.body})]})};var y=function(e){var t=Object(i.useState)({}),n=Object(b.a)(t,2),s=n[0],r=n[1],o=Object(i.useState)({}),d=Object(b.a)(o,2),j=d[0],h=d[1],O=Object(p.g)().item_hash,x=function(){var t=Object(a.a)(c.a.mark((function t(){var n,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.walletAddress){t.next=3;break}return t.next=3,e.connectWallet();case 3:return t.next=5,l.posts.get_posts("BREADDITPOST",{hashes:[O]});case 5:return n=t.sent,r(n.posts[0]),t.next=9,l.posts.get_posts("BREADDITCOMMENT",{refs:[O]});case 9:s=t.sent,h(s.posts);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){x()}),[]);var m=Object(i.useState)(!1),g=Object(b.a)(m,2),w=g[0],D=g[1];return Object(i.useEffect)((function(){void 0!==j[0]&&void 0!==j[0].content&&D(!0)}),[j]),Object(f.jsx)("div",{children:s.content?Object(f.jsxs)(u.a.Fragment,{children:[Object(f.jsxs)("div",{className:"postPage",children:[Object(f.jsxs)("div",{className:"post-metadata",children:[Object(f.jsx)("span",{className:"post-subreddit",children:s.content.body.community}),Object(f.jsx)("span",{className:"post-credit",children:" - Posted by "+s.address.slice(0,5)+"..."+s.address.slice(s.address.length-4,s.address.length)+" \u2022 "+v.a.unix(s.time).fromNow()})]}),Object(f.jsx)("span",{className:"postPage-title",children:s.content.body.title}),Object(f.jsx)("span",{className:"postPage-body",children:s.content.body.body})]}),Object(f.jsx)(T,Object(I.a)({post_hash:O,walletAddress:e.walletAddress,alephAccount:e.alephAccount},"post_hash",O)),w?j.map((function(e){return Object(f.jsx)(C,{result:e},e.item_hash)})):""]}):Object(f.jsx)(A,{})})};var k=function(e){var t=Object(p.g)().account,n=Object(i.useState)({}),s=Object(b.a)(n,2),r=s[0],o=s[1],d=Object(i.useState)([{}]),j=Object(b.a)(d,2),h=j[0],O=j[1],x=function(){var n=Object(a.a)(c.a.mark((function n(){var s,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.walletAddress){n.next=3;break}return n.next=3,e.connectWallet();case 3:return n.next=5,l.aggregates.fetch_one(t,"BREADDIT");case 5:return s=n.sent,o(s),n.next=9,l.posts.get_posts("BREADDITPOST",{addresses:[t]});case 9:a=n.sent,O(a.posts);case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(i.useEffect)((function(){x()}),[]),Object(f.jsx)(u.a.Fragment,{children:r.BREADDITCOMMUNITY?Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"userPage",children:[Object(f.jsx)("img",{className:"userPicture",src:"https://robohash.org/".concat(t,".png?bgset=bg1"),alt:"profilePicture"}),Object(f.jsx)("span",{className:"userID",children:t}),Object(f.jsxs)("span",{className:"following",children:["Following ",r.BREADDITCOMMUNITY.length," communities"]})]}),Object(f.jsx)("div",{children:h.map((function(t){return Object(f.jsx)(w,{walletAddress:e.walletAddress,alephAccount:e.alephAccount,result:t},t.item_hash)}))})]}):Object(f.jsx)(A,{})})};var E=function(e){var t=Object(i.useState)(""),n=Object(b.a)(t,2),s=n[0],r=n[1],o=Object(i.useState)(!0),d=Object(b.a)(o,2),j=d[0],h=d[1],p=Object(i.useState)(void 0),O=Object(b.a)(p,2),x=(O[0],O[1],Object(i.useState)("")),m=Object(b.a)(x,2),g=m[0],v=m[1],A=Object(i.useState)(!1),w=Object(b.a)(A,2),D=w[0],N=w[1],I=function(){var t=Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.walletAddress){t.next=7;break}return t.next=3,e.connectWallet();case 3:return t.next=5,I();case 5:t.next=9;break;case 7:return t.next=9,l.posts.submit(e.alephAccount.address,"BREADDITCOMMUNITY",{name:s,desc:g},{account:e.alephAccount,channel:"BREADDIT",api_server:"https://api2.aleph.im"}).then((function(e){var t=window.location.href;window.location.href="".concat(t.substring(0,t.lastIndexOf("/")),"/community/").concat(e.item_hash)})).catch((function(e){console.log("couldnt post"+e)}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.walletAddress&&N(!0);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){T()}),[]),Object(f.jsx)(u.a.Fragment,{children:D?Object(f.jsx)(u.a.Fragment,{children:Object(f.jsxs)("form",{className:"createCommunityForm",children:[Object(f.jsx)("input",{required:!0,type:"text",value:s,className:"communityName",placeholder:"Name your community",onChange:function(e){r(e.target.value),0===e.target.value.length?h(!0):h(!1)}}),Object(f.jsx)("textarea",{required:!0,value:g,className:"textareaForm",placeholder:"Community description",onChange:function(e){v(e.target.value)}}),Object(f.jsx)("button",{className:"submitForm",type:"button",onClick:function(){I()},disabled:j,children:"Create Community"})]})}):""})},B=n(240);var M=function(e){var t=Object(p.g)().community,n=Object(i.useState)([]),s=Object(b.a)(n,2),r=s[0],o=s[1],u=Object(i.useState)(!1),d=Object(b.a)(u,2),j=d[0],h=d[1],O=Object(i.useState)({}),x=Object(b.a)(O,2),m=x[0],g=x[1],v=Object(i.useState)([{}]),A=Object(b.a)(v,2),D=A[0],N=A[1],I=Object(i.useState)(""),T=Object(b.a)(I,2),C=T[0],y=T[1],k=function(){var n=Object(a.a)(c.a.mark((function n(){var s,a,r,i,u,d,j,b,p;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.walletAddress){n.next=22;break}return n.next=3,e.connectWallet();case 3:return s=n.sent,a=s.WalletAddress,r=s.AlephAccount,g({LocalAddress:a,LocalAlephAccount:r}),n.next=9,l.aggregates.fetch_one(a,"BREADDIT");case 9:return i=n.sent,o(i.BREADDITCOMMUNITY),i.BREADDITCOMMUNITY.includes(t)&&h(!0),n.next=14,l.posts.get_posts("BREADDITCOMMUNITY",{hashes:[t]});case 14:return u=n.sent,y(u.posts[0]),n.next=18,l.posts.get_posts("BREADDITPOST",{refs:[t]});case 18:d=n.sent,N(d.posts),n.next=37;break;case 22:if(!e.walletAddress){n.next=37;break}return g({LocalAddress:e.walletAddress,LocalAlephAccount:e.alephAccount}),n.next=26,l.aggregates.fetch_one(e.walletAddress,"BREADDIT");case 26:return j=n.sent,o(j.BREADDITCOMMUNITY),j.BREADDITCOMMUNITY.includes(t)&&h(!0),n.next=31,l.posts.get_posts("BREADDITCOMMUNITY",{hashes:[t]});case 31:return b=n.sent,y(b.posts[0]),n.next=35,l.posts.get_posts("BREADDITPOST",{refs:[t]});case 35:p=n.sent,N(p.posts);case 37:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(i.useEffect)((function(){void 0===e.walletAddress&&e.connectWallet(),k()}),[]),Object(f.jsxs)("div",{children:[C.item_hash?Object(f.jsxs)("div",{className:"userPage",children:[Object(f.jsx)("span",{className:"userID",children:C.content.name}),Object(f.jsx)("span",{className:"following",children:C.item_hash}),Object(f.jsx)("span",{className:"following",children:C.content.desc}),Object(f.jsx)("button",{className:"submitForm",value:j?"Following":"Follow",onClick:Object(a.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=9;break}return console.log(r),(n=r.indexOf(t))>-1&&o(r.splice(n,1)),e.next=6,l.aggregates.submit(m.LocalAddress,"BREADDIT",{BREADDITCOMMUNITY:r},{account:m.LocalAlephAccount,channel:"BREADDIT"});case 6:window.location.reload(),e.next=13;break;case 9:return console.log(j),e.next=12,l.aggregates.submit(m.LocalAddress,"BREADDIT",{BREADDITCOMMUNITY:[t].concat(Object(B.a)(r))},{account:m.LocalAlephAccount,channel:"BREADDIT"});case 12:window.location.reload();case 13:case"end":return e.stop()}}),e)}))),children:j?"Following":"Follow"})]}):"",D.map((function(t){return Object(f.jsx)(w,{walletAddress:e.walletAddress,alephAccount:e.alephAccount,result:t},t.item_hash)}))]})};var R=function(e){var t=Object(i.useState)([{}]),n=Object(b.a)(t,2),s=n[0],r=n[1],o=function(){var t=Object(a.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.connectWallet();case 2:return t.next=4,l.posts.get_posts("BREADDITCOMMUNITY");case 4:n=t.sent,r(n.posts);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){o()}),[]),Object(f.jsx)("div",{children:s.map((function(e){return Object(f.jsx)(h.b,{className:"noUnderline",to:"/community/".concat(e.item_hash),children:e.content?Object(f.jsxs)("div",{className:"followingCommunity",children:[Object(f.jsx)("span",{className:"userID",children:e.content.name}),Object(f.jsx)("br",{}),Object(f.jsx)("span",{className:"comment-body",children:e.item_hash})]}):Object(f.jsx)(A,{})})}))})};var L=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("span",{className:"userID",children:"404 Not found"})})};var S=function(e){var t=Object(i.useState)(),n=Object(b.a)(t,2),s=(n[0],n[1]),r=Object(i.useState)(),o=Object(b.a)(r,2),u=o[0],d=o[1],j=Object(i.useState)(),O=Object(b.a)(j,2),g=O[0],v=O[1],A=Object(i.useState)(!1),w=Object(b.a)(A,2),I=w[0],T=w[1],C=Object(i.useState)(!1),B=Object(b.a)(C,2),S=B[0],_=B[1],P=function(){var t=Object(a.a)(c.a.mark((function t(n){var r,o,i,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.connectWeb3(n);case 3:return r=t.sent,o=r.alephAccount,i=r.web3,t.next=8,i.eth.getAccounts();case 8:return u=t.sent,t.next=11,l.aggregates.fetch_one(u[0],"BREADDIT").catch(function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,l.aggregates.submit(u[0],"BREADDIT",{BREADDITCOMMUNITY:[]},{account:o});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:return s(i),d(o),v(u[0]),t.abrupt("return",{WalletAddress:u[0],AlephAccount:o});case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsx)(h.a,{children:Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(x.a,{ariaHideApp:!1,style:{content:{backgroundColor:"#214a4d",borderRadius:"15px",border:"0px",display:"flex",justifyContent:"center",alignItems:"center",width:"fit-content",height:"fit-content",padding:"40px 20px",overflow:"hidden",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},overlay:{backgroundColor:"rgb(0,0,0, 0.6)"}},isOpen:I,onRequestClose:function(){T(!1)},children:Object(f.jsx)(N,{isLoading:S,setIsLoading:_,connectWallet:P,walletAddress:g,alephAccount:u})}),Object(f.jsxs)(p.d,{children:[Object(f.jsxs)(p.b,{exact:!0,path:"/",children:[Object(f.jsx)(m,{isLoading:S,setIsLoading:_,connectWallet:P,walletAddress:g,alephAccount:u,setCreatePostModal:T}),Object(f.jsx)(D,{connectWallet:P,setIsLoading:_,setCreatePostModal:T,walletAddress:g,alephAccount:u})]}),Object(f.jsxs)(p.b,{exact:!0,path:"/post/:item_hash",children:[Object(f.jsx)(m,{isLoading:S,setIsLoading:_,connectWallet:P,walletAddress:g,alephAccount:u,setCreatePostModal:T}),Object(f.jsx)(y,{walletAddress:g,alephAccount:u,connectWallet:P})]}),Object(f.jsxs)(p.b,{exact:!0,path:"/user/:account",children:[Object(f.jsx)(m,{isLoading:S,setIsLoading:_,connectWallet:P,walletAddress:g,alephAccount:u,setCreatePostModal:T}),Object(f.jsx)(k,{connectWallet:P,walletAddress:g,alephAccount:u})]}),Object(f.jsxs)(p.b,{exact:!0,path:"/CreateCommunity",children:[Object(f.jsx)(m,{isLoading:S,setIsLoading:_,connectWallet:P,walletAddress:g,alephAccount:u,setCreatePostModal:T}),Object(f.jsx)(E,{walletAddress:g,alephAccount:u,connectWallet:P})]}),Object(f.jsxs)(p.b,{exact:!0,path:"/community/:community",children:[Object(f.jsx)(m,{isLoading:S,setIsLoading:_,connectWallet:P,walletAddress:g,alephAccount:u,setCreatePostModal:T}),Object(f.jsx)(M,{walletAddress:g,alephAccount:u,connectWallet:P})]}),Object(f.jsxs)(p.b,{exact:!0,path:"/browsecommunities",children:[Object(f.jsx)(m,{isLoading:S,setIsLoading:_,connectWallet:P,walletAddress:g,alephAccount:u,setCreatePostModal:T}),Object(f.jsx)(R,{connectWallet:P})]}),Object(f.jsx)(p.b,{exact:!0,path:"/404",children:Object(f.jsx)(L,{connectWallet:P})}),Object(f.jsx)(p.a,{to:"/404"})]})]})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,578)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))},P=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),!window.ethereum){e.next=14;break}return n=new o.a(window.ethereum),e.prev=3,e.next=6,window.ethereum.enable();case 6:console.log("Web 3 Connected..."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:e.next=15;break;case 14:window.web3?(n=window.web3,console.log("Injected web3 detected.")):window.location.href="https://metamask.io/download/";case 15:if(!window.ethereum.isConnected()){e.next=25;break}return e.prev=16,e.next=19,l.ethereum.from_provider(window.ethereum||window.web3.currentProvider);case 19:s=e.sent,e.next=25;break;case 22:e.prev=22,e.t1=e.catch(16),console.error(e.t1);case 25:return e.abrupt("return",{alephAccount:s,web3:n});case 26:case"end":return e.stop()}}),e,null,[[3,9],[16,22]])})));return function(t){return e.apply(this,arguments)}}();j.a.render(Object(f.jsx)(u.a.StrictMode,{children:Object(f.jsx)(S,{connectWeb3:P})}),document.getElementById("root")),_()}},[[574,1,2]]]);
//# sourceMappingURL=main.ed75f503.chunk.js.map